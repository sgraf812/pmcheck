
%%%%%%%%% HERE THE MACROS START
% Highlight changes and keyword undone
% \newcommand{\highlight}[1]{\colorbox{lightgray}{\ensuremath{#1}}}

\newcommand{\highlight}[1]{\setlength{\fboxsep}{2pt}\colorbox{lightgray}{\ensuremath{#1}}} % less height

\newcommand{\UNDONE}{\begin{color}{red}{\bf UNDONE }\end{color}}
\newcommand{\DONE}{\begin{color}{green}{\bf DONE}\end{color}}
\newcommand{\NOTE}[1]{\bf #1}
\newcommand{\TODO}[1]{{\bf{\begin{color}{red}{TODO: }\end{color} #1}}}

% Useful macros that are often needed
\newcommand\PS{\overline{p}}

\newcommand{\typeeq}{\sim}          % type equality
\newcommand{\termeq}{\approx}       % positive term equality
\newcommand{\ntermeq}{\not\approx}  % negative term equality

\newcommand{\ruleform}[1]{\fbox{$#1$}}
\newcommand{\rulename}[1]{\textsc{[#1]}}

\newcommand{\ticket}[1]{\href{https://ghc.haskell.org/trac/ghc/ticket/#1}{\##1}}

\newcommand{\sg}[1]{\begin{color}{red}{\bf SG:} #1\end{color}}
\newcommand{\simon}[1]{\begin{color}{purple}{\bf SLPJ:} #1\end{color}}

% This is the stuff from 2019
\newcommand{\ty}[1]{\textsf{#1}\xspace}
\newcommand{\Pat}{\ty{Pat}}
\newcommand{\Grd}{\ty{Grd}}
\newcommand{\Con}{\ty{Con}}
\newcommand{\Var}{\ty{Var}}
\newcommand{\Expr}{\ty{Expr}}
\newcommand{\Type}{\ty{Type}}
\newcommand{\Kind}{\ty{Kind}}
\newcommand{\TyCt}{\ty{TyCt}}
\newcommand{\grdlet}[2]{\textsf{let}\;#1\,\textsf{=}\,#2}
\newcommand{\grdbang}[1]{\textsf{!}#1}
\newcommand{\grdcon}[2]{#1 \leftarrow #2}
\newcommand{\ctlet}[2]{#1\termeq#2}
\newcommand{\ctcon}[2]{#1 \leftarrow #2}
\newcommand{\genconapp}[4]{#1\;\overline{#2}\;\overline{#3}\;\overline{#4}}
\newcommand{\expconapp}[5]{#1\;\overline{#2}\;\overline{#3}\;\overline{#4}\;\overline{#5}}
\newcommand{\phiconapp}[3]{#1\;\overline{#2}\;\overline{#3}}
% GrdTree Gdt
\newcommand{\Gdt}{\ty{Gdt}}
\newcommand{\gdtrhs}[1]{\texttt{Rhs} \; #1}
\newcommand{\gdtseq}[2]{#1; #2}
\newcommand{\gdtguard}[2]{\texttt{Guard} \; #1 \; #2}
% AnnTree Ant
\newcommand{\Ant}{\ty{Ant}}
\newcommand{\antred}[1]{\texttt{InaccessibleRhs} \; #1}
\newcommand{\antrhs}[1]{\texttt{AccessibleRhs} \; #1}
\newcommand{\antseq}[2]{#1; #2}
\newcommand{\antdiv}[1]{\texttt{MayDiverge} \; #1}
% Checking functions
\newcommand{\unc}[1]{\mathcal{U}(#1)}
\newcommand{\ann}[2]{\mathcal{A}_\Gamma(#1,#2)}
% Oracle functions
\newcommand{\generate}[2]{\mathcal{G}(#1,#2)}
\newcommand{\translate}[2]{\mathcal{T}(#1,#2)}
\newcommand{\construct}[2]{\mathcal{C}(#1,#2)}
\newcommand{\expand}[2]{\mathcal{E}(#1,#2)}
\newcommand{\ctxt}[2]{#1 \triangleright #2}
\newcommand{\adddelta}[2]{#1 \oplus_{\delta} #2}
\newcommand{\addphi}[2]{#1 \oplus_{\varphi} #2}
\newcommand{\inhabited}[2]{#1 \vdash #2}
\newcommand{\cons}[2]{\mathsf{Cons}(#1,#2)}
\newcommand{\inst}[3]{\mathsf{Inst}(#1,#2,#3)}
\newcommand{\rep}[2]{#1(#2)}

% Different views on "Delta":
% - The set of values it approximates. Ties to abstract interpretation
% - A boolean formula, about which you can ask if it's satisfiable (= non-empty)
% - Refinement type of the value vector/free variables of the pattern 
% - Syntactically: A disjunction of (possibly empty) constraint lists
% The latter is what we use for syntax, the interpretation is probably in terms of refinement types or so...
\newcommand{\false}{\times}
\newcommand{\true}{\checked}
